ChangeLog for
'OpenSSL for Ruby 2' project

			### CHANGE LOG ###

Fri,  7 Jun 2002 16:59:10 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* pkey.c: new helper func: ossl_pkey_get_private_EVP_PKEY
	* ns_spki.c: use new helper func
	* pkcs7.c: ditto.
	* x509cert.c: ditto.
	* x509crl.c: ditto.
	* x509req.c: ditto.

Fri,  7 Jun 2002 14:06:48 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* cipher.c: Checks around GetCipher
	* digest.c: Use Make_Struct instead of Wrap_Struct and OPENSSL_malloc
	* hmac.c: ditto.
	* bn.c: Fixed creating new classes from subclasses (WrapXXX(klass,...))
	* config.c: ditto.
	* ns_spki.c: ditto.
	* pkcs7.c: ditto.
	* x509.h: C-level class rename: new are cX509Attr, cX509Cert, cX509Ext, cX509ExtFactory, cX509Req and Errors are renamed too.
	* x509attr.c: ported to Ruby 1.8 interface and fixed new classes creation
	* x509cert.c: ditto.
	* x509crl.c: ditto.
	* x509ext.c: ditto.
	* x509name.c: ditto.
	* x509req.c: ditto.
	* x509revoked.c: ditto.
	* x509store.c: ditto.
	
Thu,  6 Jun 2002 09:42:00 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* pkey.c: Hopefully corrected nasty GC bug (ossl_pkey_get_EVP_PKEY)

Thu,  6 Jun 2002 02:28:25 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* ssl.h: NEW (bits from ossl.h)
	* ossl.h: is now tidy
	* pkey*.[ch]: big internal rewrite and cleanup for (DH|DSA|RSA) as well as for PKey (EVP_PKEY is now wrapped - so no extra structs!) NEEDS TO BE TESTED!!!

Wed,  5 Jun 2002 12:17:18 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* rand.h: NEW (bits from ossl.h)
	* rand.c: port & cleanup

Wed,  5 Jun 2002 11:56:53 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* pkcs7.h: NEW (bits from ossl.h)
	* pkcs7.c: cleanup & port to Ruby 1.8

Wed,  5 Jun 2002 10:46:17 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* ns_spki.h: NEW (bits from ossl.h)
	* ns_spki.c: cleanup & port to Ruby 1.8 interface

Wed,  5 Jun 2002 10:14:54 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* hmac.h: NEW (bits from ossl.h)
	* ossl.c: helper function 'string2hex'
	* hmac.c: use 'string2hex'
	* digest.c: ditto.
	* hmac.c: cleanup
	* hmac.c: renamed #hmac to #digest and #hexhmac to #hexdigest

Tue,  4 Jun 2002 23:26:07 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* bn.c: cleanup (remove oddly initialized vars)
	* config.c: ditto.
	* cipher.c: ditto.
	* digest.c: ditto.

Tue,  4 Jun 2002 21:49:06 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* ossl.c: test Qtrue/Qfalse with RTEST
	* bn.c: use StringValue instead of rb_String
	* cipher.c: ditto.
	* config.c: ditto.
	* bn.h: remove added MACROs until somebody wants them
	* cipher.h: ditto.
	* digest.h: ditto.
	* config.c: renamed #get_value to #value, and #get_section to #section
	* config.h: NEW (moved bits from ossl.h)

Tue,  4 Jun 2002 20:10:00 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* cipher.c: HACK: not to coredump when calling #update without preceding #(en|de)crypt

Tue,  4 Jun 2002 19:17:55 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* cipher.c: use factory style (as for Digest), adapted to Ruby 1.8 interface
	* cipher.c: Method name 'cipher' changed to 'final'
	* cipher.rb: NEW (added predefined Cipher classes there)

Tue,  4 Jun 2002 17:00:36 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* README: Make a note that it's not up-to-date
	* ossl.h: Corrected order of headers to detect Ruby < 1.7.2 and OpenSSL < 0.9.7 correctly

Tue,  4 Jun 2002 15:51:57 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* cipher.[ch]: dropped public func: get_NID (because nobody needed this)
	* digest.[ch]: ditto.

Tue,  4 Jun 2002 14:20:38 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* digest.rb: fix singletons (hex)digest (Don't call super, call Digest::(hex)digest directly)

Tue,  4 Jun 2002 08:53:59 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* cipher.c: Wierd class name ('ANY') renamed to Cipher
	* digest.c: Rename ANY -> Digest
	* pkey.c: Rename ANY -> PKey
	* pkey.rb: Use Digest instead of ANY

Tue,  4 Jun 2002 08:48:05 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* OSSL2 commited to CVS

Mon,  3 Jun 2002 21:14:34 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* digest.c: new methods added to have the same protocol as Ruby's classes
		Digest::digest(name, data)
		Digest::hexdigest(name, data)
		d.clone()
		d.==(other)
	* digest.rb: rewritten to eval

Mon,  3 Jun 2002 17:23:10 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* digest.rb: NEW (holds predefined Digest classes)
	* digest.c: redesigned (introduced runtime loading Digest algs from OpenSSL)
	* digest.c: ported to Ruby 1.8 interface
	* openssl.rb: added require for digest.rb

Mon,  3 Jun 2002 13:19:34 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* x509.c renamed to x509cert.c
	* x509.h: NEW (moved all bits related to x509 there)
	* x509.c: NEW (moved init from ossl.c for all x509 related classes there)

Mon,  3 Jun 2002 13:03:08 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* Moved all Error classes under eOSSLError

Mon,  3 Jun 2002 12:50:57 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* cipher.h: NEW (moved bits from ossl.h)
	* cipher.h: new MACROs:
		OSSLCipherValue
		OSSLCipherValuePtr

Mon,  3 Jun 2002 11:27:46 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* digest.h: NEW (moved bits from ossl.h there)
	* digest.h: new MACROs:
		OSSLWrapDigest
		OSSLGetDigest
		OSSLDigestValue

Mon,  3 Jun 2002 10:55:44 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* bn.c: added methods mod_add, mod_sub, mod_sqr

Mon,  3 Jun 2002 10:46:03 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* bn.c: ported to Ruby 1.8 interface (allocate, enable_super)

Mon,  3 Jun 2002 10:22:17 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* moved from #ifdef, #ifndef to #if defined()
	* renamed all Init_[^o] to Init_ossl_

Mon,  3 Jun 2002 09:46:43 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* bn.h: NEW (all .c will have it's .h to lower ossl.h size and increase modularity)
	* bn.h: new MACROs introduced:
		OSSLWrapBN - creates instance of BN (DOESN'T DUP THE ARG)
		OSSLGetBN - gets BIGNUM with check (DOESN'T DUP THE BIGNUM FROM OBJ)
		OSSLBNValue - alias to OSSL_Check_Instance(obj, cBN)
		OSSLBNValuePtr - alias to ossl_bn_get_BIGNUM (DUPS THE BIGNUM FROM OBJ)
		
Mon,  3 Jun 2002 01:17:07 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* dsa.c: removed MS_CALLBACK
	* dh.c: ditto.
	* rsa.c: ditto.
	* ssl.c: ditto.
	* ossl.c: introduced generic error-class: OpenSSLError
	* bn.c: initialize moved from Ruby-space to C-space
	* bn.c: reordered method defs by 'man bn'
	* bn.c: speed up math. ops by 1 global BN_CTX (dropped all local BN_CTXes and BN_CTX_inits)

Sat,  1 Jun 2002 13:38:03 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* ossl.h: OSSL2 cannot be compiled if Ruby < 1.7.2 and OpenSSL < 0.9.7

Sat,  1 Jun 2002 11:49:40 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* Dropped all #if !defined(NO_*) dependences (stayed just OPENSSL_NO_*)
	* Dropped all checks for OPENSSL_VERSION_NUMBER

Sat,  1 Jun 2002 11:25:32 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* bn.rb: NEW
	* pkey.rb: NEW
	* ssl.rb: NEW
	* x509.rb: NEW
	* openssl.rb: splitted to openssl/bn.rb, openssl/pkey.rb, openssl/ssl.rb, and openssl/x509.rb
	* lib/*: added proped descriptions
	* bn.rb: simplified BN#initialize (TODO: move it to C-space)

Sat,  1 Jun 2002 00:40:59 +0200 -- Michal Rokos <m.rokos@sh.cvut.cz>
	* Started work on OSSL2 (Starting version = CVS 2002/04/07)
	  OSSL2 will support only upcomming Ruby 1.8 and OpenSSL 0.9.7.


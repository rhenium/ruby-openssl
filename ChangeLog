$Id$
'OpenSSL for Ruby' project
Copyright (C) 2001 Michal Rokos <m.rokos@sh.cvut.cz>
All rights reserved.

$Log$
Revision 1.34  2002/03/06 08:05:05  majkl
	* build fix-ups

Revision 1.33  2002/03/05 15:05:57  majkl
	* WARNING! All to_str methods are not used any longer (use to_text instead)
	* made an aliases to_pem as to_s
	* more relaxed params checking - everywhere where string was needed it is OK that obj implements to_s method

Revision 1.32  2002/02/23 07:28:00  majkl
	* More benevolent checks (Check_SafeStr(x) -> Check_Type(x, T_STRING)
	  (where we don't care)

Revision 1.31  2002/02/20 08:43:54  majkl
	* Fixed some memory leaks

Revision 1.30  2002/02/13 13:09:49  majkl
	* transition from rb_raise to OSSL_Raise (where possible)
	* some mem checks
	* preliminary DH key support

Revision 1.29  2002/02/06 13:47:00  majkl
	* ossl-0.1.1 released

Revision 1.28  2002/02/06 13:36:15  majkl
	* Dropped Random class
	* Added Random module
	* Added egd interface to Random module

Revision 1.27  2002/01/16 14:49:52  majkl
	* really fixed strptime.c (silly me, thanks Hynek)

Revision 1.26  2002/01/16 13:52:24  majkl
	* fixed missing/strptime.c (Hynek)
	* more strict format for UTC time (ossl.c - 'Z' in the end)

Revision 1.25  2002/01/16 12:12:50  majkl
	* selfdipatch BN implementation (test only)
	* removed strncasecmp (for WIN32 made alias to _strnicmp)
	* fixed missing/strptime.c (Hynek Rostinsky)

Revision 1.24  2002/01/12 11:49:17  majkl
	* fixed callbacks in ossl_(ssl|x509store).c
	* added method X509::Store#verify_status=

Revision 1.23  2002/01/10 19:32:23  majkl
	* fixed and improved verify_callbacks in ossl_(ssl|x509store).c
	* enhanced ossl_x509store.rb examples

Revision 1.22  2002/01/10 17:33:16  majkl
	* OpenSSL::Cipher::BITx constant == x (so BIT40 = 40,...)

Revision 1.21  2002/01/10 13:46:09  majkl
	* added OpenSSL-SNAPSHOT style NO_* (OPENSSL_NO_*)
	* added AES cipher when compiled under OpenSSL-SNAPSHOT
	* added warnings if the OpenSSL is compiled without some feature
	* handle NO_RSA, NO_DSA in openssl.rb
	* incremented version in ossl_version.h

Revision 1.20  2002/01/10 00:44:17  majkl
	* OpenSSL 0.9.6c support (BN)
	* MS_CALLBACK to ossl_pkey_*.c
	* Memory checking with OSSL_DEBUG
	* API doc style change

Revision 1.19  2002/01/06 16:18:32  majkl
	* ossl-0.1.0 released

Revision 1.18  2002/01/06 16:10:37  majkl
	* BN is (somewhat) full imp. now
	* Config reworked (get_value, get_section)

Revision 1.17  2002/01/04 11:27:45  majkl
	* API doc in README (but still not completed)
	* missing str(ncasecmp|strptime).c files moved to missing/
	* ifdef NO_* handled

Revision 1.16  2002/01/04 11:22:55  majkl
	* SelfDispatching used for X509:: Name, Extension, Attribute
		def XXX.new(arg)
			XXX.send("new_from_#{arg.type.name.downcase}", arg)
		end

	* RSA,DSA - 'new_from_pem', 'generate' singleton methods defined
		'new' - implemented in Ruby space

Revision 1.15  2002/01/04 11:12:45  majkl
	* Further checking (Check_SafeStr, memory leaks)

Revision 1.14  2001/12/21 20:10:24  majkl
*** empty log message ***

Revision 1.13  2001/12/21 20:10:12  majkl
	* Memory checking

Revision 1.12  2001/12/21 19:21:35  gotoyuzo
	* fixed unusual usage of ## preprocessing token sequence.

Revision 1.11  2001/12/13 18:08:58  majkl
	* added bn methods (thanks to UNKNOWN <oss-ruby@technorama.net>)
	* simplify ossl_digest sources

Revision 1.10  2001/11/29 13:17:24  majkl
	* Make work under MS Windows (strptime added) + doc in README

Revision 1.9  2001/11/26 11:48:36  majkl
	* Just forgot to add stuff to changelog...

2001/11/21 majkl
	* BN added (only proof of concept)
	* indent changed
	* rand.h to ossl.h added

Revision 1.8  2001/11/21 09:37:03  gotoyuzo
	* buffering.rb went under ``openssl'' directory.

Revision 1.7  2001/11/20 19:39:37  majkl
	* HMAC added
	* Config came back
	* API changed in PKCS7 (param. order)
	* API changed in Cipher (can't add data in .new)
	* indentation changed (only half of files, 2nd half to do)
	* some API doc added to README

Revision 1.6  2001/11/19 12:44:57  majkl
	* added X509::Certificate .to_der

2001/11/18 (ossl-0.0.9)
	* all project is moved to savannah.gnu.org
	* applied patch to make yielding optional (GOTOU Yuuzou - thanks!)

2001/11/17
	* ossl_version.h - new file
	* SSL::VERSION and SSL::OPENSSL_VERSION went under OpenSSL
	* SSLSocket - connect and accept were reworked; use Mutex to protect verify_callback_proc from race condition
	* SSLSocket - new allows certificate and pkey as filename
	* ossl_x509_new_from_file() added
	* ossl_pkey_new_from_file() added
	* lib/ssl.rb added for migrations from old SSLSocket
	* lib/net/* should follow above changes

2001/11/16
	* added yielding when generating RSA key (see test/ossl_pkey.rb)
	* added yielding when generating DSA key (see test/ossl_pkey.rb)

2001/11/15
	* PKCS7::Signer - introduced
	* PKCS7 - yield Signer when verifiing data

2001/11/14
	* PKCS7 - sign is working, verify problem remains
	* X509::Store - verify_callback implemented
	* PKCS7 - verify is working!

2001/11/13
	* PKCS7 added (not fully tested, but it seems to be working)
	* some additions to X509::Store

2001/11/12
	* added set_default_paths, load_locations(path) to X509::Store
	* fixed StringValuePtr --> RSTRING()->ptr

2001/11/06 (ossl-0.0.8)
	* GOTOU Yuuzou: patches to lib/*.rb in order to mark his SSLlib as deprecated
	* lib name is now 'openssl' (not 'OpenSSL' anymore - GOTOU Yuuzou's idea)

2001/11/05
	* openssl_missing.c dropped :-))
	* PKeys reworked (Again? Am I mad???)
	* sign/verify methods for RSA/DSA - compatibility tests needed!

2001/11/02 (ossl-0.0.7)
	* GOTOU Yuuzou: remove nasty warnings - make compilation clean (Thanks!)
	* GOTOU Yuuzou: ossl_ssl.c cleanups, more error proof
	* openssl_missing.c - for easy key _dups
	* fixed completely dead ossl_pkey_new2, ossl_pkey_get_EVP_PKEY
	* fixed ExtFactory's create_extension
	* make test/ssl/svr.rb generate selfsigned cert (GOTOU Yuuzou's idea)

2001/11/01
	* Added 'protect' method to X509::Store that denies freeing internal X509_STORE_CTX
	* changed all // comments to /* */ (Gotou requested)
	* brought back .ca_file, .ca_path (Gotou requested)

2001/10/31
	* fixed serious BUG in PKey .encrypt, .decrypt
	* disabled .enc/.dec for DSA since it's not supported from OpenSSL
	* since I don't know how to _dup X509_STORE_CTX, free is disabled (SSLSocket is not segfaulting now)
	* added lib/* from Yuuzou's project (nothing changed => TODO!)
	* ported some SSL examples test/ssl/* (cli, svr, verify_cb, wget)

2001/10/30
	* fixed PKey .public?, .private?
	* SSL project from GOTOU Yuuzou <gotoyuzo@notwork.org> merged in (not tested, waiting for responce from Yuuzou)
	* API for PKey to README
	* DSS digest added (SHA for DSA)
	* some more API to README
	* really add challenge to SPKI ;-)

2001/10/29 (ossl-0.0.6)
	* openssl_missing.h added
	* PKey reworked (some methods deleted, keys made Abstract)
	* DSA keys added
	* DSS1 digest added (SHA1 for DSA)
	* PKey sign and verify added (see test/ossl_pkey.rb)

2001/10/28
	* API doc for Cipers
	* Random class and API for it to README

2001/10/27
	* Challenge added to SPKI
	* Added ChangeLog
	* Added OpenSSL module functions for RAND (seed, load_random_file, write_random_file)

2001/10/26 (ossl-0.0.5)
	* Ciphers reworked, more general approach (less classes)
	* All OpenSSL ciphers added
	* Added cipher option to RSA

2001/10/25
	* ExtensionMaker renamed to ExtensionFactory
	* First Cipher class made (#of classes will be HUGE - is this good approach???)
	* Whole project is now licenced under Ruby's licence

2001/10/23
	* OpenSSL::Netscape::SPKI added

2001/10/20 (ossl-0.0.4)
	* step ahead to merge with Gotou Yuuzou <gotoyuzo@notwork.org>'s ssl project
	* (X509::Store reworked - behave like gotoyuzo's ssl version)
	* make build on FreeBSD (remove strndup) - GOTOU Yuuzou <gotoyuzo@notwork.org> contributed

2001/10/19
	* add_extension methods added
	* all (hopefully) setters to extension= frees old extensions mem.
	* some changes to api (RSA mainly)
	* openssl.cnf parser to be dropped???
	* lib and main module renamed to OpenSSL
	* full modularization introduced (will you hate it?)

2001/10/13
	* Extensions reworked (ExtensionMaker added)
	* build fixed up (Robert Feldt <feldt@ce.chalmers.se>)

